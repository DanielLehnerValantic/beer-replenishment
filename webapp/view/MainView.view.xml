<mvc:View xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.uxap"
    controllerName="beerreplenishment.controller.MainView"
	xmlns:m="sap.m"
    xmlns:microchart="sap.suite.ui.microchart"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:l="sap.ui.layout"
	height="100%">
    <ObjectPageLayout id="ObjectPageLayout"
		showTitleInHeaderContent="true"
        alwaysShowContentHeader="true"
        preserveHeaderStateOnScroll="false"
        headerContentPinnable="true"
        isChildPage="true"
        showEditHeaderButton="true"
        showFooter="true"
		upperCaseAnchorBar="false">
		<headerTitle>
			<ObjectPageDynamicHeaderTitle>
				<expandedHeading>
					<m:Title text="Fridge" wrapping="true" class="sapUiSmallMarginEnd" />
				</expandedHeading>

				<snappedHeading>
                    <m:Title text="Fridge" wrapping="true"/>
                    <!-- <m:Label text="VAK1"/> -->
				</snappedHeading>

				<expandedContent>
					<m:Label text="VAK1"/>
				</expandedContent>

				<snappedTitleOnMobile>
					<m:Title text="Fridge"/>
				</snappedTitleOnMobile>

			</ObjectPageDynamicHeaderTitle>
		</headerTitle>

        <headerContent>
			<m:FlexBox wrap="Wrap" fitContainer="true">
                <l:HorizontalLayout class="sapUiSmallMarginBeginEnd">
                    <l:VerticalLayout class="sapUiSmallMarginBegin" width="150px">
                        
					    <si:StatusIndicator id="indicator0" width="200px" height="150px" class="sapUiSmallMargin" value="70" showLabel="true" labelPosition="Left">
                        <si:ShapeGroup>
                            <!-- <si:Rectangle x="2" y="2" width="180" height="140" strokeWidth="1" fillingType="Linear"
                                        fillingColor="30" strokeColor="Neutral" /> -->
                                        <si:CustomShape id="customShape0" fillingType="Linear" strokeWidth="1"/>
                        </si:ShapeGroup>
                        <si:propertyThresholds>
                            <si:PropertyThreshold fillColor="Critical" toValue="60"/>
                            <si:PropertyThreshold fillColor="Error" toValue="30"/>
                            <si:PropertyThreshold fillColor="Good" toValue="100"/>
                        </si:propertyThresholds>
				    </si:StatusIndicator>
                    </l:VerticalLayout>

                    <l:VerticalLayout class="sapUiTinyMarginBeginEnd">
                        <m:FlexBox width="25rem" height="10rem" alignItems="Start" justifyContent="SpaceBetween">
                            <m:items>
                                <microchart:InteractiveDonutChart selectionChanged="onSelectionChanged">
                                    <microchart:segments>
                                        <microchart:InteractiveDonutChartSegment label="Implementation Phase" value="40.0" displayedValue="40.0%"/>
                                        <microchart:InteractiveDonutChartSegment label="Design Phase" value="21.5" displayedValue="21.5%"/>
                                        <microchart:InteractiveDonutChartSegment label="Test Phase" value="38.5" displayedValue="38.5%"/>
                                    </microchart:segments>
                                </microchart:InteractiveDonutChart>
                            </m:items>
                        </m:FlexBox>
                    </l:VerticalLayout>
                </l:HorizontalLayout>
                
			</m:FlexBox>
		</headerContent>

        <sections>
            <ObjectPageSection titleUppercase="false" title="Drinks in fridge ({view>/TotalQuan})">
				<subSections>
					<ObjectPageSubSection titleUppercase="false">
						<blocks>
                            <m:Table
                            id="productTable"
                            items="{
                                path: '/ZEWMIEFSI01STOCKSet'
                            }">
                            <m:columns>
                                <m:Column width="5%">
                                </m:Column>
                                <m:Column width="25%">
                                    <m:Text text="Product" />
                                </m:Column>
                                <m:Column>
                                    <m:Text text="Available" />
                                </m:Column>
                                <m:Column>
                                    <m:Text text="Open" />
                                </m:Column>
                                <m:Column width="30%">
                                    <m:Text text="Select Quantity" />
                                </m:Column>
                                <m:Column width="15%">
                                    <m:Text text="Last Refill" />
                                </m:Column>
                            </m:columns>
                            <m:items>
                                <m:ColumnListItem vAlign="Middle">
                                    <m:cells>
                                        <m:Image src="{imageModel>/path}/img/drink/{Matid}.jpg" height="60px" class="" />
                                        <m:ObjectIdentifier
                                        title="{Description}"
                                        text="{Lgtyp} ({Lgnum})"/>
                                        <m:ObjectNumber
                                            id="itemTotalQuan"
                                            number="{Quan}"
                                            unit="{Unit}"
                                            state="{
                                                path: 'Quan',
                                                formatter: '.formatter.quantityState'}"
                                        />
                                        <m:ObjectNumber
                                            id="itemOpenRepl"
                                            number="{
                                                path: 'Openreplenishment',
                                                formatter: '.formatter.numberUnit'}"
                                            unit="{Unit}"
                                            state="Success"
                                        />
                                        <m:StepInput
                                            id="stepInput"
                                            value="{SelectedValue}"
                                            change="onChangeStepInput"
                                            textAlign="Center"
                                            min="0"
                                            max="{path: 'Quan', formatter: '.formatter.numberUnitInt'}"
                                            required="true"
                                            description="PC"
                                            width="150px" />
                                        <m:ObjectNumber
                                            id="lastRefill"
                                            number="{
                                                path: 'Lastrefill',
                                                formatter: '.formatter.dateFormatter'}"
                                        />
                                    </m:cells>
                                </m:ColumnListItem>
                            </m:items>
                        </m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
        <footer>
			<m:OverflowToolbar>
				<m:ToolbarSpacer/>
				<m:Button type="Accept" text="Save" press="onSave"/>
				<m:Button type="Reject" text="Cancel" press="onCancel"/>
			</m:OverflowToolbar>
		</footer>

	</ObjectPageLayout>
</mvc:View>